# Thermal Logic Pi

> Precise thermal control platform for Raspberry Pi using Peltier modules, auxiliary heating, and mixed sensor instrumentation.

<p align="center">
  <img src="docs/images/setup.jpeg" width="500">
</p>

---

## ğŸ“· Project Overview

Thermal Logic Pi is a low-cost embedded system built for accurate temperature regulation and controlled thermal cycling, created to serve as the thermal control backbone of a PCR-focused experimental platform.

The architecture combines solid-state thermal actuation with sensor-driven feedback to enable stable and repeatable temperature dynamics â€” a fundamental requirement for polymerase chain reaction workflows and related laboratory applications.

Initially developed in 2020, the system later supported the authorâ€™s undergraduate thesis (2025), where its hardware, software, and experimental results were formally documented and evaluated.

---

## ğŸ”§ Hardware Platform

The system integrates:

- **Peltier (TEC) module** for bidirectional heating/cooling
- **Auxiliary heater** for thermal stabilization
- **Thermocouple Type-K** via MAX31856 (SPI)
- **NTC thermistor** via ADS1115 (IÂ²C)
- **Raspberry Pi** as central controller
- External 12V power stage
- Active cooling (fan)

---

## ğŸ–¥ Electronic Design
<p align="center">
  <img src="docs/images/Fritzing.jpg" width="500">
</p>
The control and sensing subsystems are separated into:

âœ” High-power thermal actuation (Peltier / Heater)  
âœ” Precision temperature sensing (thermocouple + NTC)  
âœ” Digital interfaces (SPI / IÂ²C)  

---

## ğŸ“Š Thermal Response Example
<p align="center">
  <img src="docs/images/graph.png" width="500">
</p>
Example output generated by the system showing:

- Temperature targets (setpoints)
- Sensor feedback
- Thermal dynamics during cycling
- Cooling response behavior

---
## ğŸ›  Recommended Build Environment (Raspberry Pi)

Thermal Logic Pi is designed to run on a Raspberry Pi with direct access to GPIO, SPI, and IÂ²C interfaces.  
For best compatibility and stability, a native execution environment is recommended instead of containers or emulation.

**Recommended setup:**

- Raspberry Pi OS (or compatible Debian-based distribution)
- Python **3.11 or newer**
- SPI / IÂ²C interfaces enabled via `raspi-config`
- Adequate permissions for GPIO access

---

### 1ï¸âƒ£ Create Virtual Environment

Using a virtual environment is strongly recommended to isolate dependencies and avoid conflicts with system packages.

```bash
python3 -m venv .venv
source .venv/bin/activate
```
### 2ï¸âƒ£ Install Dependencies

Upgrade pip and install project requirements:


```bash
pip install --upgrade pip
pip install -r requirements.txt
```

### 3ï¸âƒ£ System Interfaces

Ensure required hardware interfaces are enabled:

sudo raspi-config

Enable:

âœ” SPI
âœ” IÂ²C

Reboot the system if prompted.

### 4ï¸âƒ£ Notes

Running directly on Raspberry Pi hardware ensures accurate timing and sensor behavior.

External power supply must support thermal loads (Peltier / Heater).

GPIO access may require elevated privileges depending on system configuration.

## ğŸš€ Running

Default execution:

```bash
python3 main.py
```

Custom temperature cycles:

```bash
python3 main.py \
  --heater-temp 37 \
  --cycle 4:60 \
  --cycle 15:120
```

Cycle format:

```
TEMP:DURATION
```

Example:

```
4:60 â†’ Target 4Â°C for 60 seconds
```

## âš™ï¸ Hardware Configuration

Thermal Logic Pi is designed to operate with different hardware setups.  
Before running the system, adjust the hardware parameters according to your wiring and components.

All hardware-related constants are defined in:

```text
thermal_logic_pi/pin_config.py
```
### Configure Pins and Constants

Edit the configuration file to match your physical connections and sensor characteristics.

Typical parameters include:

PWM / Control Pins

Heater control pins

Peltier control pins

Cooling fan (if applicable)

Thermocouple Interface (MAX31856)

SPI Chip Select pin (SPI_CS_PIN)

NTC Sensor Parameters

Nominal resistance (R0)

Beta coefficient (BETA)

Series resistor value

ADS1115 channel selection

Example Adjustments

Depending on your hardware, you may need to modify:

âœ” GPIO pin numbers
âœ” PWM channels
âœ” Sensor calibration constants
âœ” ADC channel mappings

Incorrect configuration may result in unstable readings or improper thermal control.

Notes

Always verify wiring before applying power to the Peltier module.

Sensor calibration constants directly impact temperature accuracy.

SPI and IÂ²C pins must match Raspberry Pi interface configuration.

## ğŸ“¦ Output

Each execution generates:

- CSV telemetry dataset
- PNG temperature graph

Captured data includes:

âœ” Measured temperature  
âœ” Setpoints  
âœ” Heater state  
âœ” Thermal transitions  

---

## âš ï¸ Hardware Notes

- Ensure proper heat dissipation for the Peltier module
- Validate sensor calibration before long cycles
- GPIO/SPI/IÂ²C permissions may be required
- External power supply must support thermal load

---

## ğŸ¯ Use Cases

- Experimental thermal systems  
- Embedded control studies  
- Low-cost instrumentation platforms  
- Microfluidics / PCR prototypes  
- Raspberry Pi hardware projects  

---

## ğŸ“š Academic Context

This project was developed as part of an undergraduate research effort in Computer Engineering.

Official publication:

**Development of Electronic and Computational Infrastructure Based on Raspberry Pi for a Portable Low-Cost Microfluidic Platform Applied to PCR Assays**

Available at:

https://riu.ufam.edu.br/handle/prefix/8917

---

## ğŸ“‚ Project Structure

```text
thermal-logic-pi/
â”œâ”€â”€ main.py
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ thermal_logic_pi/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ controller.py
â”‚   â”œâ”€â”€ heater.py
â”‚   â”œâ”€â”€ peltier.py
â”‚   â”œâ”€â”€ pin_config.py
â”‚   â”œâ”€â”€ sensor.py
â”‚   â””â”€â”€ temperature_cycle.py
â””â”€â”€ data/ (gerado automaticamente)
```
